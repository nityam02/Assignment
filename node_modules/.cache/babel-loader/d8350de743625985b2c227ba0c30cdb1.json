{"ast":null,"code":"import _objectWithoutProperties from\"/home/nityam/Desktop/assisnment/Assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{Route,Redirect}from\"react-router-dom\";export default function PrivateRoute(_ref){var Component=_ref.component,exact=_ref.exact,roles=_ref.roles,rest=_objectWithoutProperties(_ref,[\"component\",\"exact\",\"roles\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({exact:exact},rest,{render:function render(props){var currentUser=null;//For demo only\nif(!currentUser){// not logged in so redirect to login page with the return url\nreturn/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}// check if route is restricted by role\nif(roles&&roles.indexOf(currentUser.role)===-1){// role not authorised so redirect to home page\nreturn/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/\"}});}// authorised so return component\nreturn/*#__PURE__*/React.createElement(Component,props);}}));}","map":{"version":3,"sources":["/home/nityam/Desktop/assisnment/Assignment/src/components/PrivateRoute/PrivateRoute.js"],"names":["React","Route","Redirect","PrivateRoute","Component","component","exact","roles","rest","props","currentUser","pathname","state","from","location","indexOf","role"],"mappings":"qLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,CAAgBC,QAAhB,KAAgC,kBAAhC,CAEA,cAAe,SAASC,CAAAA,YAAT,MAKZ,IAJUC,CAAAA,SAIV,MAJDC,SAIC,CAHDC,KAGC,MAHDA,KAGC,CAFDC,KAEC,MAFDA,KAEC,CADEC,IACF,8DACD,mBACE,oBAAC,KAAD,gBACE,KAAK,CAAEF,KADT,EAEME,IAFN,EAGE,MAAM,CAAE,gBAACC,KAAD,CAAW,CACjB,GAAMC,CAAAA,WAAW,CAAG,IAApB,CAA0B;AAC1B,GAAI,CAACA,WAAL,CAAkB,CAChB;AACA,mBACE,oBAAC,QAAD,EACE,EAAE,CAAE,CAAEC,QAAQ,CAAE,QAAZ,CAAsBC,KAAK,CAAE,CAAEC,IAAI,CAAEJ,KAAK,CAACK,QAAd,CAA7B,CADN,EADF,CAKD,CACD;AACA,GAAIP,KAAK,EAAIA,KAAK,CAACQ,OAAN,CAAcL,WAAW,CAACM,IAA1B,IAAoC,CAAC,CAAlD,CAAqD,CACnD;AACA,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAE,CAAEL,QAAQ,CAAE,GAAZ,CAAd,EAAP,CACD,CAED;AACA,mBAAO,oBAAC,SAAD,CAAeF,KAAf,CAAP,CACD,CArBH,GADF,CAyBD","sourcesContent":["import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function PrivateRoute({\n  component: Component,\n  exact,\n  roles,\n  ...rest\n}) {\n  return (\n    <Route\n      exact={exact}\n      {...rest}\n      render={(props) => {\n        const currentUser = null; //For demo only\n        if (!currentUser) {\n          // not logged in so redirect to login page with the return url\n          return (\n            <Redirect\n              to={{ pathname: \"/login\", state: { from: props.location } }}\n            />\n          );\n        }\n        // check if route is restricted by role\n        if (roles && roles.indexOf(currentUser.role) === -1) {\n          // role not authorised so redirect to home page\n          return <Redirect to={{ pathname: \"/\" }} />;\n        }\n\n        // authorised so return component\n        return <Component {...props} />;\n      }}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}